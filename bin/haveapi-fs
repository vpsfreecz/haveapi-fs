#!/usr/bin/env ruby

require_relative '../lib/haveapi/fs'

OPTIONS = %i(api version auth_method username password token)
OPTION_USAGE = <<END
    api=URL                URL to the API server
    version=V              API version to use
    auth_method            Authentication method
    username               Username
    password               Password
    token                  Authentication token
END

FuseFS.main(ARGV, OPTIONS, OPTION_USAGE) do |opts|
  fail "set option 'api'" unless opts[:api]

  HaveAPI::Fs.new(opts)
end
